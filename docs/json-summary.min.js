// https://github.com/AndrewTBurks/json-summary v0.1.3 Copyright 2019 Andrew Burks
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).jsonSummary=n()}(this,function(){"use strict";return function(e={indentation:" ",indentCount:2,showExampleValue:!0}){function n(e,n,t){return{type:`<span class="json-summary json-summary-type json-summary-type-${e}">&lt;${e}&gt;</span>`,value:`<span class="json-summary json-summary-value json-summary-value-${t}">${e}</span>`,name:`<span class="json-summary json-summary-name">${e}</span>`,length:`<span class="json-summary json-summary-length">${e}</span>`,circular:`<span class="json-summary json-summary-circular">${e}</span>`,layer:`<span class="json-summary json-summary-checkbox">\n              <input type="checkbox">\n              <span class="json-summary-checkboxmarker" onclick="(function(me){\n                me.parentNode.classList.toggle('checked');\n              })(this)"></span>\n            </span><div class="json-summary json-summary-layer">${e}</div>`,child:`<div class="json-summary json-summary-child">${e}</div>`,keys:`<span class="json-summary json-summary-keys">${e}</span>`}[n]}return{summarize:function(e){let n=function e(n){let t={Array:n=>{let t={type:"Array"};return t.length=n.length,n.length&&(t.items={0:e(n[0])}),t},Object:n=>{let t={type:"Object"};t.keys=Object.keys(n),t.items={};for(let s of t.keys)t.items[s]=e(n[s]);return t},Other:e=>({type:typeof e,example:e})},s="Other";return n instanceof Array?s="Array":n instanceof Object&&(s="Object"),n&&n["*snippets_mark*"]?{type:s,circular:!0}:("Other"!==s&&(Object.defineProperty(n,"*snippets_mark*",{enumerable:!1,writable:!0,configurable:!0}),n["*snippets_mark*"]=!0),t[s](n))}(e);return function e(n){if(n&&n["*snippets_mark*"])if(delete n["*snippets_mark*"],n instanceof Array&&n.length)e(n[0]);else if(n instanceof Object)for(let t of Object.keys(n))e(n[t])}(e),n},printSummary:function(t){return function t(s,a){let r="";if(s.circular)r+=n("(circular reference)","circular");else if("Object"===s.type){r+="{";let i=s.keys.map(e=>`'${e}'`).join(", ");r+=n(i,"keys");let m=s.keys.map(e=>t(s.items[e],a+1));if(m.length){let t="\n";for(let r=0;r<s.keys.length;r++)t+=e.indentation.repeat((a+1)*e.indentCount),t+=n(s.keys[r],"name")+": ",t+=m[r],r<s.keys.length-1&&(t+=","),t+="\n";t+=e.indentation.repeat(a*e.indentCount),r+=n(t,"child")}r=n(r+="}","layer")}else if("Array"===s.type){if(r+=n(`(${s.length})`,"length")+" [",s.length){let n="Object"===s.items[0].type||"Array"===s.items[0].type;n&&(r+="\n"+e.indentation.repeat((a+1)*e.indentCount)),r+=t(s.items[0],a+1),n&&(r+="\n"+e.indentation.repeat(a*e.indentCount))}r+="]"}else null==s.example||null==s.example?r+=n("?","type"):r+=n(s.type,"type"),e.showExampleValue&&(r+=n(s.example,"value",s.type));return r}(t,0)}}}});
